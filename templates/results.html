{% extends "base.html" %}
{% block title %}OCR Results{% endblock %}

{% block content %}
<div class="results-area">
    <h1>Extracted Content</h1> <!-- Changed title slightly -->

    <!-- Controls remain the same, but Copy button JS will change -->
    <div class="markdown-output-controls">
         <button id="copy-btn" class="control-btn">Copy Markdown</button>
         <a href="{{ url_for('download_markdown', file_id=file_id) }}" download="{{ download_filename }}" class="control-btn">Download .md</a>
    </div>

    <!-- Display Rendered HTML Content -->
    <div class="markdown-output-container">
         <!-- Use the 'safe' filter to render the generated HTML -->
         {{ html_content_for_display | safe }}
    </div>

    <!-- Hidden textarea to hold the raw markdown for the copy button -->
    <textarea id="raw-markdown-for-copy" style="display:none;">{{ raw_markdown_for_copy }}</textarea>

    <p class="info">Images extracted from the document are displayed above. Use buttons to copy/download original Markdown.</p>
</div>
{% endblock %}

{% block scripts %}
<!-- Make sure script.js is loaded -->
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}